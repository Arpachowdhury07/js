# ERC4337 (Account Abstraction) Extension

## <!--

title: ERC4337 Extension
category: extension

---

-->

## Description

The **ERC‑4337 extension** enables account‑abstraction flows (Smart Accounts) via thirdweb infrastructure or custom bundlers. It exposes helpers to deploy smart accounts, estimate gasless fees, and send user‑operations.

## Highlights

- `deploySmartAccount` – predict & deploy a smart‑account wallet deterministically.
- `sendCalls` / `showCallsStatus` – EIP‑5792 helpers for multi‑call UX.
- Gas sponsorship options via Engine or custom paymaster.

## Import Cheatsheet

```ts
import {
  deploySmartAccount,
  sendCalls,
  showCallsStatus,
} from "thirdweb/extensions/erc4337";
```

## Deploy an AA wallet

```ts
const address = await deploySmartAccount({
  chain: sepolia,
  client,
  factoryAddress: FACTORY,
  owner: eoaAddress,
});
```

## Batch Calls (EIP‑5792)

```ts
const tx = sendCalls({
  account: smartAcc,
  calls: [prepared1, prepared2],
});
await waitForReceipt({ client, chain: sepolia, transactionHash: tx.hash });
```

## Smart Wallet Options

Many SDK UIs (`ConnectButton`, PayEmbed) accept `SmartWalletOptions` to transparently enable AA for any wallet by passing:

```ts
{
  factoryAddress,
  chain: sepolia,
  gasless: true,
}
```

## Related

- Gasless guides
- EIP‑5773 hooks (useSendCalls, useCallsStatus)

import { createMetadata } from "@doc";

export const metadata = createMetadata({
	title: "Blueprints de Insight | Infraestructura de thirdweb",
	description:
		"Aprende qué son los Blueprints de Insight y cómo usarlos",
  image: {
    title: "Insight",
    icon: "insight",
  },
});

# Blueprints

Un blueprint es una API que proporciona acceso a datos on-chain en un formato fácil de usar. No se necesitan ABIs, decodificación, conocimientos de RPC o web3 para obtener datos de la blockchain. Cada cadena expone los siguientes blueprints predeterminados.

## Blueprint de Eventos

Los eventos en la blockchain ofrecen a los desarrolladores una forma poderosa de rastrear y analizar los eventos emitidos por contratos inteligentes. Este endpoint proporciona acceso a información detallada de eventos, como la dirección del contrato que generó el evento, la transacción que lo activó, y cuándo y dónde ocurrió en la blockchain. Al ofrecer puntos de datos como temas del evento, números de bloque y hashes de transacciones, los desarrolladores pueden filtrar y buscar fácilmente tipos específicos de eventos, como transferencias de tokens o ejecuciones de contratos. Con marcas de tiempo precisas y referencias de bloques, el Blueprint de Eventos asegura que los desarrolladores tengan acceso en tiempo real a actividades críticas on-chain, lo que les permite construir aplicaciones receptivas y de alto rendimiento que monitorean, analizan y reaccionan a eventos de blockchain de manera fluida. Ya sea trabajando en DeFi, NFTs o dApps generales, este endpoint ayuda a desbloquear el potencial completo de los datos de blockchain en cualquier proyecto.

### Detalles del Blueprint

| Nombre                  | Descripción                                                                                                                                                          | Ejemplo                                                                                                                                                       |
| ----------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| From Address            | Esta es la dirección que inició la transacción. Representa al remitente que pagó el gas para ejecutar la transacción.                                                | Si un usuario envía 1 ETH desde su billetera, el `from_address` será la dirección Ethereum del remitente, como `0xabc123...`.                                 |
| To Address              | Este es el destinatario de la transacción. Puede ser otra billetera o un contrato inteligente.                                                                       | Si envías ETH a un amigo, la dirección de su billetera, como `0xdef456...`, será el `to_address`. En el caso de interactuar con una plataforma DeFi, la dirección del contrato inteligente será el `to_address`. |
| Hash                    | El identificador único (hash) de la transacción. Este hash se puede usar para buscar y verificar la transacción en la blockchain.                                     | Una transacción puede tener un hash como `0x5c7b6f...`. Puedes usar este hash para verificar el estado de la transacción en un explorador de bloques como Etherscan. |
| Value                   | Esta es la cantidad de criptomoneda (en wei) que se transfiere en la transacción.                                                                                    | Si transfieres 1 ETH, el `value` será 1,000,000,000,000,000,000 wei (1 ETH = 10^18 wei).                                                                      |
| Gas                     | La cantidad máxima de unidades de gas que el remitente está dispuesto a pagar para que se procese la transacción.                                                    | Una transferencia simple de ETH podría requerir 21,000 gas, mientras que llamar a una función compleja de un contrato inteligente podría requerir 100,000 gas. |
| Gas Price               | El precio por unidad de gas que el remitente está dispuesto a pagar, expresado en wei (la unidad más pequeña de ETH). El costo total se calcula como `gas` * `gas_price`. | Si el `gas_price` es 100 gwei (1 gwei = 1 billón de wei), el remitente pagará `100 gwei * 21,000 gas` para una transferencia básica de ETH.                    |
| Max Fee Per Gas         | La cantidad máxima de tarifas de gas (en wei) que el remitente está dispuesto a pagar por cada unidad de gas. Introducido en EIP-1559 para limitar los costos de gas. | Si el `max_fee_per_gas` se establece en 200 gwei, el remitente asegura que nunca pagará más de esto por cada unidad de gas, incluso en períodos de alta congestión. |
| Max Priority Fee Per Gas| La tarifa adicional máxima que el remitente está dispuesto a pagar para incentivar a los mineros a priorizar su transacción. Introducido en EIP-1559.                 | Una transacción podría especificar un `max_priority_fee_per_gas` de 2 gwei, que actúa como una "propina" para que los mineros incluyan la transacción más rápido. |
| Data                    | El campo `data` contiene información adicional requerida por una transacción, como los parámetros de entrada para interactuar con un contrato inteligente.            | En una llamada a la función `swap` de un contrato DeFi, el campo `data` incluirá la función codificada y los argumentos (p. ej., cantidad de tokens, dirección del destinatario). |
| Nonce                   | El `nonce` es el número de transacciones enviadas desde la dirección del remitente. Garantiza que las transacciones se procesen en el orden correcto y evita el doble gasto. | Si el remitente ha enviado 5 transacciones antes, el nonce será 5. Esto ayuda a rastrear la secuencia de transacciones y asegurar que cada una se procese correctamente. |
| Transaction Index       | La posición de la transacción dentro del bloque. Indica el orden en que se incluyó la transacción en relación con otras.                                             | Si el `transaction_index` es 5, esta fue la sexta transacción incluida en el bloque.                                                                          |
| Transaction Type        | El tipo de transacción, típicamente legacy (tipo `0x0`) o uno de los nuevos tipos introducidos en EIP-1559 (p. ej., tipo `0x2` para las transacciones con la nueva mecánica de tarifas de gas). | Un `transaction_type` de `0x2` indica que la transacción sigue las nuevas reglas de EIP-1559 para tarifas de gas.                                             |
| Access List             | El `access_list` es un campo opcional introducido en EIP-2930 que especifica las direcciones y slots de almacenamiento con los que la transacción pretende interactuar. Se utiliza para optimizar los costos de gas al declarar previamente los accesos necesarios. | Al interactuar con un contrato inteligente, el `access_list` puede declarar la dirección del contrato y los slots de almacenamiento que la transacción planea leer o escribir. |
| Chain ID                | El `chain_id` identifica la red blockchain en la que se realizó la transacción. Previene ataques de repetición entre diferentes redes.                                | En Ethereum mainnet, el `chain_id` es `1`, mientras que en Base Mainnet, el `chain_id` es `8453`. Este campo indica a qué red pertenece la transacción.        |
| Block Hash              | Este es el identificador único (o "huella digital") del bloque que incluye esta transacción. El hash asegura que el bloque no ha sido alterado.                       | Si la transacción está incluida en el bloque `12,345,678`, el hash del bloque podría verse como `0xabc123...`, y este hash se puede usar para referenciar ese bloque en particular en la blockchain. |
| Block Number            | El `block_number` indica la posición específica del bloque en la blockchain que contiene la transacción.                                                             | Si una transacción está incluida en el bloque `12,345,678`, este número se puede usar para localizar rápidamente el bloque y todas las transacciones que contiene. |
| Block Timestamp         | Este es el momento exacto en que se minó el bloque que contiene la transacción y se añadió a la blockchain.                                                           | Si la transacción se confirmó el 1 de julio de 2023 a las 12:30 PM UTC, el `block_timestamp` reflejará este momento. Es útil para analizar cuándo ocurrieron actividades específicas (como transferencias de tokens). |
| r, s, v                 | Estos son los componentes criptográficos de la firma de la transacción. Demuestran que la transacción fue firmada con la clave privada asociada a la dirección del remitente. | Los valores `r`, `s`, y `v` se producen durante el proceso de firma y son necesarios para verificar la autenticidad de la transacción en la blockchain.         |


## Tokens Blueprint

Los tokens en blockchain pueden pertenecer a diferentes estándares, pero algunos de los más utilizados son:
- ERC-20 para tokens fungibles
- ERC-721 y ERC-1155 para NFTs

Este blueprint proporciona acceso a la información de balances de dichos tokens para una dirección de propietario específica.

### Detalles del Blueprint

#### Balances ERC-20 de una dirección

```yaml
GET /v1/{clientId}/tokens/erc20/:ownerAddress
```

### Parámetros de la Ruta:

- `ownerAddress` *(obligatorio)*: La dirección del propietario de los tokens.
- `clientId` *(obligatorio)*: El client ID de thirdweb de tu proyecto.

### Esquema de respuesta exitosa:

```json
[
  {
    "tokenAddress": "…",
    "balance": "…"
  }
]
```

#### Tokens ERC-721 de una dirección

```yaml
GET /v1/{clientId}/tokens/erc721/:ownerAddress
```
### Parámetros de la Ruta:

- `ownerAddress` *(obligatorio)*: La dirección del propietario de los tokens.
- `clientId` *(obligatorio)*: El client ID de thirdweb de tu proyecto.

### Esquema de respuesta exitosa:

```json
[
  {
    "collectionAddress": "…",
    "tokenId": "…",
    "balance": "…"
  }
]
```

#### Tokens ERC-1155 de una dirección

```yaml
GET /v1/{clientId}/tokens/erc1155/:ownerAddress
```

### Parámetros de la Ruta:

- `ownerAddress` *(obligatorio)*: La dirección del propietario de los tokens.
- `clientId` *(obligatorio)*: El client ID de thirdweb de tu proyecto.

### Esquema de respuesta exitosa:

```json
[
  {
    "collectionAddress": "…",
    "tokenId": "…",
    "balance": "…"
  }
]
```

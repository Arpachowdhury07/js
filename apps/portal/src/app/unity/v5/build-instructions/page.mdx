import { Callout, createMetadata } from "@doc";

export const metadata = createMetadata({
	title: "Instrucciones de Construcción del SDK de Unity v5 | SDK de thirdweb para Unity",
	description:
		"Aprende cómo construir tu proyecto de Unity con el SDK de thirdweb para Unity.",
});

# Instrucciones de Construcción

## General

- **Configuración de Construcción:** Usa `Smaller (faster) Builds` / `Shorter Build Time`.
- **Configuración del Jugador:** Usa IL2CPP sobre Mono cuando esté disponible.
- **Nivel de Stripping:** Establece `Managed Stripping Level` a `Minimal` (`Player Settings` > `Other Settings` > `Optimization`). (Generalmente no es un requisito estricto a menos que uses WalletConnect como opción de proveedor de billetera.)
- **Eliminar Código del Motor:** Asegúrate de que esto esté desactivado.

## WebGL

- **Plantilla WebGL:** No hay ninguna plantilla obligatoria, ¡siéntete libre de personalizarla!
- **Formato de Compresión:** Establece a `Deshabilitado` (`Player Settings` > `Publishing Settings`) para construcciones finales.
- **Pruebas de inicio de sesión social en WebGL localmente:** Hospeda la construcción o ejecútala localmente con `Cross-Origin-Opener-Policy` configurado en `same-origin-allow-popups`.

Configuración de ejemplo para probar el inicio de sesión social con In-App o Ecosystem Wallet localmente:

```javascript
// YourWebGLOutputFolder/server.js
const express = require("express");
const app = express();
const port = 8000;

app.use((req, res, next) => {
	res.header("Cross-Origin-Opener-Policy", "same-origin-allow-popups");
	next();
});

app.use(express.static("."));
app.listen(port, () =>
	console.log(`Server running on http://localhost:${port}`),
);

// ejecútalo con `node server.js`
```

No se requiere acción para las construcciones hospedadas.

## Móvil

- **EDM4U:** Viene con el paquete y resuelve dependencias en tiempo de ejecución. Usa `Force Resolve` desde `Assets` > `External Dependency Manager` > `Android Resolver`.
- **Esquemas de Redirección:** Establece esquemas personalizados que coincidan con tu ID de paquete en `Plugins/AndroidManifest.xml` o su equivalente para asegurar los redireccionamientos OAuth.
```xml
<!-- Establece tu ID de paquete aquí -->
<!-- Reemplaza 'com.thirdweb.unitysdk' con el esquema deseado -->
<data android:scheme="com.thirdweb.unitysdk" />
```

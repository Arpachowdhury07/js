import { Callout } from "@doc";
import { createMetadata } from "@doc";

export const metadata = createMetadata({
	image: {
		title: "Opciones de Publicación",
		icon: "contract",
	},
	title: "Opciones de Publicación | thirdweb Publish",
	description:
		"Las opciones de despliegue que elijas determinarán cómo los usuarios desplegarán tu contrato",
});

# Opciones de Publicación

Las opciones de despliegue que elijas determinarán cómo los _usuarios_ desplegarán tu contrato.

## 1. Despliegue Directo

Publicar con la opción de despliegue directo permite a los usuarios desplegar una copia de tu contrato, incluyendo la lógica y el almacenamiento.
Elige esta opción si tu contrato no sigue el patrón de contrato actualizable.

### Requisitos

No hay requisitos. Cualquier contrato puede ser publicado con esta opción de despliegue.

## 2. Desplegar a través de Factory

Elige esta opción si deseas que los usuarios desplieguen proxies de tu contrato de implementación usando la factory predeterminada de thirdweb o usando tu propia factory personalizada pre-desplegada.

<Callout title="Desplegar a través de Factory" variant="info">
	Para usar la opción "Desplegar a través de Factory", debes estar publicando tu
	contrato de implementación en lugar de una factory.
</Callout>

### 2(a). Factory Predeterminado

Publicar tu contrato usando la [factory predeterminada de thirdweb](https://github.com/thirdweb-dev/contracts/blob/main/contracts/infra/TWStatelessFactory.sol) permite a los usuarios desplegar un contrato proxy.

- Permite a los usuarios desplegar en **cualquier red compatible con EVM**.
- Los usuarios desplegarán un contrato proxy mínimo [EIP-1167](https://eips.ethereum.org/EIPS/eip-1167), que contiene el estado, y hará referencia a tu contrato de implementación para la lógica. Esto hace que el despliegue sea más barato para tus usuarios.
- La [factory predeterminada de thirdweb](https://github.com/thirdweb-dev/contracts/blob/main/contracts/infra/TWStatelessFactory.sol) es de código abierto, sin permisos, y no altera la propiedad del contrato; los desplegadores del contrato tienen el 100% de la propiedad.

#### Requisitos

- Tu contrato debe implementar el [patrón actualizable](https://docs.openzeppelin.com/upgrades-plugins/1.x/writing-upgradeable), lo que significa que debe tener una función "initialize" para configurar el almacenamiento, en lugar de un constructor.

#### Uso

1. Elige tu función "initialize" - en la mayoría de los casos, será `initialize`, pero puede ser cualquier función en tu contrato.
2. Selecciona las redes a las que te gustaría publicar. De esta manera, puedes limitar las redes a las que los usuarios pueden desplegar.
3. Haz clic en "Siguiente" y completa el formulario de ["Parámetros del Contrato"](/contracts/publish/publish-contract#customize-contract-parameters).

### 2(b). Factory Personalizada

Publicar tu contrato usando una factory personalizada permite a los usuarios desplegar un contrato proxy utilizando tu propia factory personalizada pre-desplegada.
Esto te permite agregar lógica personalizada a la función que se invoca cuando un usuario despliega un contrato.

#### Requisitos

- Estar publicando tu contrato de implementación en lugar de una factory.
- Tener un contrato factory personalizado pre-desplegado en todas las redes a las que estás publicando.

#### Uso

1. Ingresa la(s) dirección(es) de tu contrato factory personalizado en cada red a la que te gustaría que los usuarios puedan desplegar.
2. Elige tu "función de factory" - esta será la función que se llamará cuando un usuario despliegue su contrato.
3. Haz clic en "Siguiente" y completa el formulario de ["Parámetros del Contrato"](/contracts/publish/publish-contract#customize-contract-parameters).

## ¿No sabes qué opción elegir?

| Opción de despliegue                                                                | Descripción                                                                                                            | Caso de uso principal                                                                                                                           | Requisitos                                                                                                          | ¿Se puede desplegar mi contrato en cualquier EVM?                       | ¿Puede mi contrato ser destacado en Explore? |
| ----------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- | --------------------------------------- |
| [Despliegue directo](/contracts/publish/publish-options#direct-deploy)                | Los usuarios pueden desplegar una copia de tu contrato, incluyendo la lógica y el almacenamiento.                       | Desarrolladores de contratos inteligentes que usan la publicación para compartir su contrato y no esperan que su contrato reciba muchos despliegues | No hay requisitos.                                                                                                      | Sí.                                                          | No.                                       |
| [Desplegar a través de Factory predeterminado](/contracts/publish/publish-options#default-factory) | Los usuarios pueden desplegar proxies de tu contrato de implementación, que contiene el almacenamiento, usando la factory predeterminada de thirdweb | Protocolos que desean que su contrato sea desplegable en todas las redes y quieren optimizar el costo de gas en los despliegues                   | Debe estar escrito en el [patrón actualizable](https://docs.openzeppelin.com/upgrades-plugins/1.x/writing-upgradeable). | Sí.                                                          | Sí.                                      |
| [Desplegar a través de Factory personalizada](/contracts/publish/publish-options#custom-factory) | Usa tu propio contrato factory pre-desplegado para desplegar proxies para tus usuarios.                                 | Protocolos que desean usar una factory personalizada para crear proxies para sus usuarios y la capacidad de agregar lógica personalizada a la función de creación. | Debe haber pre-desplegado una factory personalizada en cada cadena a la que deseas que los usuarios puedan desplegar.                   | Desplegable en todas las redes en las que se haya desplegado la factory personalizada. | Sí.                                      |

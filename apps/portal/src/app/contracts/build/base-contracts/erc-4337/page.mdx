# Cuentas inteligentes ERC-4337

Todas las [cuentas inteligentes](/connect/account-abstraction) de thirdweb son cuentas de contrato inteligente [EIP-4337](https://eips.ethereum.org/EIPS/eip-4337) con control de permisos basado en roles.

Los usuarios pueden desplegar cuentas inteligentes para su uso individual, y los desarrolladores de aplicaciones pueden emitir cuentas inteligentes a sus usuarios programáticamente.

Las cuentas inteligentes de thirdweb tienen las siguientes características por defecto:

- Tienen múltiples propietarios.
- Ejecutan transacciones (individuales y por lotes).
- Envían y reciben tokens nativos.
- Envían y reciben NFTs ERC-721 y ERC-1155.
- Se pueden ejecutar múltiples llamadas.
- Almacenan metadatos del contrato.

thirdweb ofrece los siguientes tres tipos diferentes de fábricas de cuentas:

|                    | [`Simple`](/contracts/build/base-contracts/erc-4337/account)                                                                            | [`Managed`](/contracts/build/base-contracts/erc-4337/managed-account)                                                                                                                         |
| ------------------ | --------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Actualización** | No actualizable                                                                                                                         | Las actualizaciones de cuentas están controladas centralmente por el administrador de la fábrica de cuentas principal.                                                                                                                    |
| **Perfil de usuario**   | El desarrollador quiere emitir cuentas inteligentes simples a sus usuarios. No anticipa que las billeteras de los usuarios necesiten actualizaciones de características. | El desarrollador quiere emitir cuentas inteligentes a sus usuarios. Anticipa actualizaciones de características a las billeteras de los usuarios y desea empujar actualizaciones a las billeteras para una experiencia de usuario fluida/invisible. |

## Cuentas inteligentes simples

**[`Account.sol`](/contracts/build/base-contracts/erc-4337/account) & [`AccountFactory.sol`](/contracts/build/base-contracts/erc-4337/account-factory)**

El contrato `Account` es una cuenta inteligente simple que viene con todos los beneficios básicos de la abstracción de cuentas, junto con las características predeterminadas mencionadas.

Los desarrolladores de aplicaciones pueden emitir cuentas inteligentes [`Account`](/contracts/build/base-contracts/erc-4337/account) programáticamente desplegando un contrato inteligente [`AccountFactory`](/contracts/build/base-contracts/erc-4337/account-factory).

El contrato inteligente `Account` es _no actualizable_. Los desarrolladores deben usar esta billetera si no anticipan hacer futuras actualizaciones a las billeteras de sus usuarios.

## Cuentas inteligentes gestionadas

**[`ManagedAccount.sol`](/contracts/build/base-contracts/erc-4337/managed-account) & [`ManagedAccountFactory.sol`](/contracts/build/base-contracts/erc-4337/managed-account-factory)**

La cuenta inteligente `ManagedAccount` es un contrato inteligente _actualizable_ escrito en el [patrón de contrato dinámico](https://github.com/thirdweb-dev/dynamic-contracts).

Los desarrolladores de aplicaciones pueden emitir cuentas inteligentes `ManagedAccount` programáticamente desplegando un contrato inteligente [`ManagedAccountFactory`](/contracts/build/base-contracts/erc-4337/managed-account-factory).

El administrador del contrato [`ManagedAccountFactory`](/contracts/build/base-contracts/erc-4337/managed-account-factory) puede empujar actualizaciones a todas las cuentas `ManagedAccount` que crea. Este administrador no requiere permisos sobre las cuentas inteligentes `ManagedAccount` para hacerlo. Una actualización de las características de `ManagedAccount` se aplica a _todas_ las cuentas inteligentes `ManagedAccount` creadas por la fábrica. Esta es la billetera adecuada para los desarrolladores que anticipan _empujar actualizaciones_ a las billeteras de sus usuarios.

#### Ejemplo de caso de uso de actualizaciones automáticas:

Una aplicación quiere que las billeteras de sus usuarios solo puedan poseer NFTs dentro de su ecosistema. Esto sería una actualización en los hooks de transferencia `onERC721Received` y `onERC1155Received` de la cuenta inteligente.

La aplicación puede imponer este comportamiento empujando esta actualización a las billeteras de sus usuarios.

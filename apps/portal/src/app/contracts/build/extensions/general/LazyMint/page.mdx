import { Details, Callout, GithubButtonLink, createMetadata } from "@doc";

export const metadata = createMetadata({
	image: {
		title: "Contrato LazyMint",
		icon: "solidity",
	},
	title: "LazyMint | Contrato de thirdweb",
	description:
		"El contrato inteligente LazyMint es una extensión para cualquier contrato base de NFT. Te permite 'acuñar perezosamente' cualquier número de NFTs a la vez.",
});

# LazyMint

```solidity
import "@thirdweb-dev/contracts/extension/LazyMint.sol";
```

El contrato inteligente `LazyMint` es una extensión para cualquier contrato base de NFT. Te permite 'acuñar perezosamente' cualquier número de NFTs a la vez.

Aquí, ['acuñar perezosamente'](/glossary/lazy-minting) significa definir los metadatos para tokenIds particulares de tu contrato NFT, sin acuñar realmente un saldo distinto de cero de NFTs de esos tokenIds.

<Callout title="info" variant="info">

Para que la extensión `ERC721LazyMintable`, `ERC1155LazyMintable` o `ERC20LazyMintable` sea detectada
en el Dashboard, las extensiones correspondientes [`ERC721`](/contracts/build/extensions/erc-721/ERC721), [`ERC1155`](/contracts/build/extensions/erc-1155/ERC1155) o [`ERC20`](/contracts/build/extensions/erc-20/ERC20) deben ser agregadas junto con
la extensión `LazyMint`.

</Callout>


<br />

<GithubButtonLink href="https://github.com/thirdweb-dev/contracts/blob/main/contracts/extension/LazyMint.sol" />

## Uso

La extensión `LazyMint` es un _contrato abstracto_, y espera que implementes las siguientes funciones por ti mismo:

| Nombre                                                                      | Tipo                    | Retorna | Descripción                                                                                                                      |
| --------------------------------------------------------------------------- | ----------------------- | ------- | -------------------------------------------------------------------------------------------------------------------------------- |
| [`_canLazyMint`](/contracts/build/extensions/general/LazyMint#_canlazymint) | internal view _virtual_ | `bool`  | Se ejecuta en cada intento de acuñar perezosamente NFTs en el contrato. Devuelve si los NFTs pueden ser acuñados perezosamente en el contexto de ejecución dado. |

Este es un contrato inteligente de ejemplo que demuestra cómo heredar de esta extensión y sobrescribir las funciones para agregar (opcionalmente) funcionalidad personalizada.

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/extension/LazyMint.sol";

contract MyContract is LazyMint {
    /**
     *  Almacenamos la dirección del desplegador del contrato solo para los fines del ejemplo
     *  en el comentario de código abajo.
     *
     *  Hacer esto no es necesario para usar la extensión `LazyMint`.
     */
    address public deployer;

    constructor() {
        deployer = msg.sender;
    }

    /**
     *  Esta función devuelve quién está autorizado para acuñar perezosamente NFTs en este contrato.
     *
     *  Como EJEMPLO, solo permitiremos que el desplegador del contrato acuñe perezosamente NFTs.
     *
     *  DEBES completar el cuerpo de esta función para usar la extensión `LazyMint`.
     */
    function _canLazyMint() internal view virtual override returns (bool) {
        return msg.sender == deployer;
    }
}
```

## Contratos Base que Implementan Esta Extensión

(si se combina con cualquiera de [`ERC721`](/contracts/build/extensions/erc-721/ERC721) o [`ERC1155`](/contracts/build/extensions/erc-1155/ERC1155))

- [`ERC721LazyMint`](/contracts/build/base-contracts/erc-721/lazy-mint)
- [`ERC721DelayedReveal`](/contracts/build/base-contracts/erc-721/delayed-reveal)
- [`ERC721Drop`](/contracts/build/base-contracts/erc-721/drop)
- [`ERC1155LazyMint`](/contracts/build/base-contracts/erc-1155/lazy-mint)
- [`ERC1155DelayedReveal`](/contracts/build/base-contracts/erc-1155/delayed-reveal)
- [`ERC1155Drop`](/contracts/build/base-contracts/erc-1155/drop)

## Referencia Completa de la API

<Details summary="lazyMint">

```solidity
function lazyMint(
    uint256 amount,
    string calldata baseURIForTokens,
    bytes calldata extraData
) external returns (uint256 batchId);
```

- Acuña perezosamente una cantidad dada de NFTs.
- Parámetro `amount`: El número de NFTs a acuñar perezosamente.
- Parámetro `baseURIForTokens`: La URI base para los 'n' NFTs que se están acuñando perezosamente, donde los metadatos de cada uno de esos NFTs son `baseURIForTokens/tokenId`.
- Parámetro `extraData`: Datos adicionales en bytes que serán utilizados a discreción del contrato.

</Details>

<Details summary="_canLazyMint">

```solidity
function _canLazyMint() internal view virtual returns (bool);
```

- Se ejecuta en cada llamada a la función `lazyMint`.
- Devuelve si los NFTs pueden ser acuñados perezosamente en el contexto de ejecución dado.
- Por ejemplo, esta función puede verificar si la billetera que llama a `lazyMint` es el propietario del contrato, y hacer cumplir que solo el propietario pueda llamar exitosamente a `lazyMint`.

</Details>

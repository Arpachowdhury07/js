import { DocImage, Callout } from "@doc";
import { Tabs, TabsList, TabsTrigger, TabsContent } from "@/components/ui/tabs";
import modularContractsAnalogyImage from "./assets/modular-contracts-analogy.png";
import modularContractsFlowImage from "./assets/modular-contracts-flow.png";
import { createMetadata } from "@doc";

export const metadata = createMetadata({
	title: "thirdweb Modular Contracts",
	description:
		"Build and deploy smart contracts for which you can add, remove or upgrade the exact parts you want, even after deployment.",
	image: {
		title: "thirdweb Modular Contracts",
		icon: "solidity",
	},
});

# Contratos Modulares

**Contratos Modulares** son contratos en los que puedes agregar, quitar o actualizar las partes exactas que desees.

## Empezando

Para comenzar, instala el paquete `modular-contracts` en tu proyecto Solidity existente:

<Tabs defaultValue="forge">


<TabsList>
	<TabsTrigger value="forge">Forge</TabsTrigger>
</TabsList>

<TabsContent value="forge">
```bash
forge install https://github.com/thirdweb-dev/modular-contracts
```
</TabsContent>
<TabsContent value="hardhat">
```bash
npm i @thirdweb-dev/contracts
```
</TabsContent>
</Tabs>

Un contrato modular se compone de [1] un contrato **Core** y [2] contratos **Extension**. Aprende más sobre estos a continuación.

Sigue esta [guía completa](https://blog.thirdweb.com/p/d45e40f7-e8f3-4bcd-be6b-f800beff963f/) para aprender a escribir, desplegar y usar tu propio contrato modular personalizado.

## Contexto

Un contrato modular se compone de dos tipos de contratos:

1. Contrato **Core**: la API base que puede personalizarse instalando extensiones.
2. Contrato **Extension**: implementa un conjunto de funcionalidades que se habilitan en un Core cuando se instala.

<Callout variant="info">
	Como analogía, piensa en el robot que se muestra a continuación. El torso es el *Core* al que se le pueden agregar o quitar *Extensions*. 
    
    El torso tiene una forma particular y expone enchufes en lugares fijos, los cuales determinan cómo se conectarán las extensiones. De manera similar, un contrato Core tiene una API fija que determina qué extensiones son compatibles para su instalación.

    Las *Extensions* mismas, por ejemplo, una pierna, brazo, cabeza, etc., le dan al robot (es decir, al contrato modular en su totalidad) sus diversas capacidades.

    <DocImage src={modularContractsAnalogyImage} className="w-[500px]" />
</Callout>

Instalar una extensión en un Core personaliza el comportamiento del Core de dos maneras:

1. Nuevas funciones se pueden llamar en el contrato Core (a través de su [función fallback](https://docs.soliditylang.org/en/v0.8.26/contracts.html#fallback-function)).
2. Las funciones fijas del contrato Core hacen llamadas a las funciones de devolución de llamada dentro de la Extension.

<DocImage src={modularContractsFlowImage} />

Puedes leer sobre los detalles completos del diseño técnico de los Contratos Modulares en su [documento de diseño](/contracts/design-docs/modular-contracts).


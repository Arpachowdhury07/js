import { createMetadata, GithubButtonLink } from "@doc";

export const metadata = createMetadata({
    title: "thirdweb Modular Contracts",
    description:
        "Modular Contract proporciona un marco para construir contratos inteligentes personalizados de manera más eficiente al ofrecer un conjunto de contratos base preconstruidos y componentes reutilizables, conocidos como módulos.",
    image: {
        title: "thirdweb Modular Contracts",
        icon: "solidity",
    },
});

# RoyaltyERC1155

## Descripción

El contrato `RoyaltyERC1155` es un módulo que integra funcionalidades de gestión de regalías y validación para transferencias de tokens ERC-1155. Este módulo garantiza que las regalías se manejen adecuadamente durante las transferencias de tokens, y permite la validación de estas transferencias a través de un validador de transferencias personalizable.

<GithubButtonLink href="https://github.com/thirdweb-dev/modular-contracts/blob/dev/src/module/token/transferable/TransferableERC1155.sol" />

## Funciones de Callback

| Función                    | Descripción                                                                       |
|-----------------------------|-----------------------------------------------------------------------------------|
| `beforeTransferERC1155`     | Función de callback para las funciones `ERC1155.transferFrom` y `ERC1155.safeTransferFrom`. Valida la transferencia a través del `transferValidator`. |
| `beforeBatchTransferERC1155`| Función de callback para transferencias en lote de tokens ERC-1155. Valida cada transferencia en el lote a través del `transferValidator`. |

## Funciones de Fallback

| Función                         | Descripción                                                                                               |
|----------------------------------|-----------------------------------------------------------------------------------------------------------|
| `royaltyInfo`                    | Devuelve el receptor de regalías y la cantidad para una venta determinada.                                |
| `getDefaultRoyaltyInfo`          | Devuelve la información de regalías predeterminada (receptor y BPS) para el contrato de tokens.           |
| `getRoyaltyInfoForToken`         | Devuelve la información de regalías (receptor y BPS) para un token específico.                            |
| `getTransferValidator`           | Devuelve la dirección del contrato de validador de transferencias para este contrato de token.             |
| `getTransferValidationFunction`  | Devuelve el selector de función y el estado de visualización para la función de validación del validador de transferencias. |
| `hasRole`                        | Verifica si la cuenta dada tiene el rol especificado.                                                    |
| `setDefaultRoyaltyInfo`          | Establece la información predeterminada de regalías (receptor y BPS). Requiere rol de administrador.      |
| `setRoyaltyInfoForToken`         | Establece la información de regalías (receptor y BPS) para un token específico. Requiere rol de administrador. |
| `setTransferValidator`           | Establece la dirección del contrato de validador de transferencias. Requiere rol de administrador.        |

## Interfaces Requeridas

| Interfaz  | ID          |
|-----------|-------------|
| `ERC-1155` | `0xd9b67a26`|

## Interfaces Soportadas

| Interfaz              | ID          |
|------------------------|-------------|
| `IERC2981`             | `0x2a55205a`|
| `ICreatorToken`        | `0xad0d7f6c`|
| `ICreatorTokenLegacy`  | `0xa07d229a`|

## Callback de Instalación

Este módulo utiliza un callback de instalación para configurar los parámetros iniciales, como la información predeterminada de regalías y el contrato del validador de transferencias.

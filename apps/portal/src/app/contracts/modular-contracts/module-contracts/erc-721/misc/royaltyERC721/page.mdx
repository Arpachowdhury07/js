import { createMetadata, GithubButtonLink } from "@doc";

export const metadata = createMetadata({
    title: "thirdweb Modular Contracts",
    description:
        "Modular Contract proporciona un marco para construir contratos inteligentes personalizados de manera más eficiente al ofrecer un conjunto de contratos base preconstruidos y componentes reutilizables, conocidos como módulos.",
    image: {
        title: "thirdweb Modular Contracts",
        icon: "solidity",
    },
});

# RoyaltyERC721

## Descripción

El contrato `RoyaltyERC721` es un módulo que integra funcionalidades de gestión y validación de regalías para transferencias de tokens ERC-721. Este módulo asegura que las regalías se manejen adecuadamente durante las transferencias de tokens, y permite la validación de estas transferencias mediante un validador de transferencias personalizable.

<GithubButtonLink href="https://github.com/thirdweb-dev/modular-contracts/blob/dev/src/module/token/royalty/RoyaltyERC721.sol" />

## Funciones de Callback

| Función                | Descripción                                                                       |
|------------------------|-----------------------------------------------------------------------------------|
| `beforeTransferERC721`  | Función de callback para las funciones `ERC721.transferFrom` y `ERC721.safeTransferFrom`. Valida la transferencia mediante el `transferValidator`. |

## Funciones de Fallback

| Función                         | Descripción                                                                                               |
|----------------------------------|-----------------------------------------------------------------------------------------------------------|
| `royaltyInfo`                    | Devuelve el destinatario de la regalía y el monto para una venta específica.                               |
| `getDefaultRoyaltyInfo`          | Devuelve la información predeterminada de la regalía (destinatario y BPS) para el contrato de tokens.      |
| `getRoyaltyInfoForToken`         | Devuelve la información de la regalía (destinatario y BPS) para un token específico.                       |
| `getTransferValidator`           | Devuelve la dirección del contrato del validador de transferencias para este contrato de tokens.           |
| `getTransferValidationFunction`  | Devuelve el selector de la función y el estado de vista para la función de validación del validador de transferencias. |
| `hasRole`                        | Verifica si la cuenta dada tiene el rol especificado.                                                    |
| `setDefaultRoyaltyInfo`          | Establece la información predeterminada de la regalía (destinatario y BPS). Requiere el rol de administrador.|
| `setRoyaltyInfoForToken`         | Establece la información de la regalía (destinatario y BPS) para un token específico. Requiere el rol de administrador.|
| `setTransferValidator`           | Establece la dirección del contrato del validador de transferencias. Requiere el rol de administrador.       |

## Interfaces Requeridas

| Interface  | ID          |
|------------|-------------|
| `ERC-721`  | `0x80ac58cd`|

## Interfaces Compatibles

| Interface              | ID          |
|------------------------|-------------|
| `IERC2981`             | `0x2a55205a`|
| `ICreatorToken`        | `0xad0d7f6c`|
| `ICreatorTokenLegacy`  | `0xa07d229a`|

## Callback de Instalación

Este módulo utiliza un callback de instalación para configurar los parámetros iniciales, como la información predeterminada de regalías y el contrato del validador de transferencias.

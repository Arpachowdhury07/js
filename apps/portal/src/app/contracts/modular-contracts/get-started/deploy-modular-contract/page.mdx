import { DocImage, createMetadata, FeatureCard, Steps, Step } from "@doc";

import createApiKey from "./assets/create-api-key.png";
import apiKeyName from "./assets/api-key-name.png";
import proceed from "./assets/proceed.png";
import copyApiKey from "./assets/copy-api-key.png";
import selectCounterModule from "./assets/select-counter-module.png";
import scrollAndNext from "./assets/scroll-and-next.png";
import publishContract from "./assets/publish-contract.png";
import selectCounterCore from "./assets/select-counter-core.png";
import inputOwner from "./assets/input-owner.png";
import sepoliaDeployNow from "./assets/sepolia-deploy-now.png";
import deploying from "./assets/deploying.png";
import installModule from "./assets/install-module.png";
import moduleInstalled from "./assets/module-installed.png";
import contractDashboardModules from "./assets/contract-dashboard-modules.png";

export const metadata = createMetadata({
	title: "Contratos Modulares de thirdweb",
	description:
		"El Contrato Modular proporciona un marco para construir contratos inteligentes personalizados de manera más eficiente al ofrecer un conjunto de contratos base preconstruidos y componentes reutilizables, conocidos como módulos.",
	image: {
		title: "Contratos Modulares de thirdweb",
		icon: "solidity",
	},
});

# Desplegar un Contrato Modular

Esta guía te mostrará cómo publicar un Contrato Modular que incrementa un contador. Si estás interesado en aprender cómo funcionan los contratos modulares, consulta [Cómo funciona](https://portal.thirdweb.com/contracts/modular-contracts/how-it-works).
Si no has leído [Crear un Contrato Base](https://portal.thirdweb.com/contracts/modular-contracts/get-started/create-core-contact) y [Crear un Contrato de Módulo](https://portal.thirdweb.com/contracts/modular-contracts/get-started/create-module-contract), por favor hazlo antes de continuar
ya que esta guía se basará en esas guías anteriores.

<Steps>

<Step title="Obtén una clave API desde el Dashboard de thirdweb">
Ve al [Dashboard de thirdweb](https://thirdweb.com/team), Crea un nuevo Proyecto para obtener la clave API.

<DocImage src={ createApiKey } />

Un cuadro de diálogo debería aparecer pidiendo el nombre de la clave. Usa `modular-contract-test-key`.

<DocImage src={ apiKeyName } />

Haz clic en "Proceed".

<DocImage src={ proceed } />

Luego, haz clic en el ícono de copiar y guarda la clave API en un lugar seguro.

<DocImage src={ copyApiKey } />
</Step>

<Step title="Publicar el Contrato de Módulo">
En tu terminal, ejecuta el siguiente comando:


```bash
npx thirdweb publish -k "THIRDWEB_API_KEY"
```
Replace `THIRDWEB_API_KEY` with your API key. Then, select `CounterModule`.

<DocImage src={ selectCounterModule } />

Esto abrirá tu navegador. Desplázate hasta la parte inferior y haz clic en "Next".

<DocImage src={ scrollAndNext } />

Luego, elige la red Sepolia y haz clic en "Publish Contract".

<DocImage src={ publishContract } />

Ahora, podemos pasar al despliegue del contrato principal.
</Step>

<Step title="Desplegar el Contrato Principal">
En tu terminal, ejecuta el siguiente comando:


```bash
npx thirdweb deploy -k "THIRDWEB_API_KEY"
```
Reemplaza `THIRDWEB_API_KEY` con tu clave API. Luego, selecciona `CounterCore`.

<DocImage src={ selectCounterCore } />

Esto abrirá tu navegador. Ingresa el `owner` del contrato y haz clic en "Deploy Now".

<DocImage src={ inputOwner } />

Luego, elige la red Sepolia y haz clic en "Deploy Now".

<DocImage src={ sepoliaDeployNow } />

Ahora debería estar desplegando.

<DocImage src={ deploying } />

Una vez que el contrato principal se haya desplegado, haz clic en "View Contract".

</Step>

<Step title="Instalar el Módulo">
En el panel de contratos, haz clic en "Módulos" en la barra lateral izquierda.

<DocImage src={ contractDashboardModules } />

Serás redirigido a la página "Editar Módulos", donde puedes instalar el `CoreModule`. En el campo "Publisher", pega la dirección del editor que utilizaste.

Luego, se desbloqueará el campo "Module Name". Haz clic en él y selecciona `counterModule`. Una vez que termine de verificar la elegibilidad, selecciona "Module Version" como 1.0.0 y elige el paso que desees usar.

Finalmente, haz clic en "Instalar".

<DocImage src={ installModule } />

Ahora, el módulo ha sido instalado exitosamente.

<DocImage src={ moduleInstalled } />
</Step>

</Steps>

---

¡Y ahí lo tienes! ¡Ahora has desplegado tu propio Contrato Modular!



import { Callout, createMetadata, DocImage } from "@doc";
import addCustomChain1 from "../../assets/add-custom-chain-1.png";
import addCustomChain2 from "../../assets/add-custom-chain-2.png";
import addCustomChain3 from "../../assets/add-custom-chain-3.png";
import addCustomChain4 from "../../assets/add-custom-chain-4.png";

export const metadata = createMetadata({
	title: "Custom Chains | thirdweb Engine",
	description: "Engine supports custom chains and chain overrides.",
});

# Cadenas personalizadas

Engine es compatible con todas las [cadenas EVM públicas](https://thirdweb.com/chainlist) y con tus propias cadenas personalizadas.

Puedes definir sobrescrituras de cadena que permitan a Engine buscar la URL RPC, la moneda y otros metadatos de un ID de cadena.

## Casos de uso

- Permite que Engine interactúe con tu cadena privada o personalizada de EVM.
- Usa tu propia URL RPC para una cadena EVM existente.

## Agregar una cadena personalizada

Al agregar una sobrecarga de cadena, Engine usará los metadatos de cadena proporcionados para el ID de cadena dado.

<Callout variant='info' title="Cómo sobrecargar la URL del RPC de una cadena">

Para sobrecargar la URL del RPC de una cadena, proporciona el mismo ID de cadena que una cadena existente y una nueva URL de RPC.

</Callout>

**Endpoint**

`POST /configuration/chains`

**Headers**

- `Authorization: Bearer <engine_access_token>`
- `Content-Type: application/json`

**Body**
```json
{
  "chainOverrides": [
    {
      "name": "My Custom Chain",
      "chain": "ETH",
      "rpc": [
        "https://my-custom-rpc-url.com"
      ],
      "nativeCurrency": {
        "name": "Ether",
        "symbol": "ETH",
        "decimals": 18
      },
      "chainId": 678,
      "slug": "my-custom-chain"
    }
  ]
}
```

Reference: [`POST /configuration/chains`](https://engine-api.thirdweb.com/reference#tag/configuration/POST/configuration/chains)

## Ver cadenas personalizadas

Llama a Engine para [obtener los metadatos de una cadena](https://engine-api.thirdweb.com/reference#tag/chain/GET/chain/get) o [ver todas las sobrecargas de cadenas](https://engine-api.thirdweb.com/reference#tag/configuration/GET/configuration/chains).

## Limitaciones

- **Cuando llames a la API de Engine para una cadena personalizada, proporciona el ID de la cadena y no el slug de la cadena.** Los slugs de las cadenas solo son compatibles con cadenas públicas.
- Dado que Engine puede no ser capaz de resolver el ABI de tu contrato automáticamente, proporciona el ABI manualmente para llamar a los métodos del contrato. Recomendamos proporcionar la firma completa de la función:

				```json
				POST /contract/:chainId/:address/write
				{
					"functionName": "function setTokenURI(string uri)",
					"args": ["ipfs://..."]
				}
				```

- Debido a esta razón, los puntos finales de extensiones como `erc721/transfer` pueden no ser compatibles con cadenas personalizadas.

## Agregar cadenas personalizadas al panel de control de thirdweb

Aunque puedes interactuar con tu cadena personalizada desde el panel de Engine, es posible que la interfaz de usuario aún no sea compatible con tu cadena personalizada. Para agregarla al panel de control, sigue estos pasos:

<DocImage
	src={addCustomChain1}
	alt="Add custom chain"
	className="max-w-[300px] mx-auto"
/>
<DocImage
	src={addCustomChain2}
	alt="Add custom chain"
	className="max-w-[300px] mx-auto"
/>
<DocImage
	src={addCustomChain3}
	alt="Add custom chain"
	className="max-w-[300px] mx-auto"
/>
<DocImage
	src={addCustomChain4}
	alt="Add custom chain"
	className="max-w-[500px] mx-auto"
/>
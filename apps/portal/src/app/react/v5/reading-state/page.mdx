import { ReactIcon } from "@/icons";
import { createMetadata } from "@doc";
import { ArticleIconCard, Stack } from "@doc";
import { BlocksIcon } from "lucide-react";
import { ExternalLink } from "lucide-react";

export const metadata = createMetadata({
	title: "Lectura del Estado del Contrato | thirdweb",
	description: "Cómo leer el estado de un contrato en React",
});

# Leer el estado del contrato

Lee datos onchain de cualquier contrato en cualquier cadena.

## Playground en Vivo

Prueba la demostración por ti mismo en el [playground de lectura del estado del contrato](https://playground.thirdweb.com/connect/blockchain-api)

<Stack>

<ArticleIconCard
	title="Prueba la demo"
	icon={ExternalLink}
	href="https://playground.thirdweb.com/connect/blockchain-api"
	description="Mira el SDK en acción en el playground en vivo"
/>
</Stack>

## Lectura Genérica de Contratos

La lectura del estado de un contrato en React se realiza mediante el hook `useReadContract`.  
Este hook devuelve `data`, `isLoading` y otros estados útiles de React Query que puedes usar para renderizar tu componente.

```ts
import { getContract } from "thirdweb";
import { useReadContract } from "thirdweb/react";

const contract = getContract({
	client,
	chain,
	address: "0x...",
});

const MyComponent = () => {
	const { data, isLoading } = useReadContract({
		contract,
		method: "function tokenURI(uint256 tokenId) returns (string)",
		params: [1n],
	});
};
```

## Uso de Extensiones

<Stack>
<ArticleIconCard
	title="Entendiendo las Extensiones"
	description="Aprende cómo usar extensiones en tu proyecto"
	icon={BlocksIcon}
	href="/typescript/v5/extensions/use"
/>
</Stack>

Las extensiones son una forma de realizar consultas complejas a un contrato de manera segura en términos de tipos, utilizando una API sencilla.

```tsx
import { getContract } from "thirdweb";
import { useReadContract } from "thirdweb/react";
import { getOwnedNFTs } from "thirdweb/extensions/erc721";

const contract = getContract({
	client,
	chain,
	address: "0x...",
});

const MyComponent = () => {
	const ownedNFTs = useReadContract(getOwnedNFTs, {
		contract,
		address: "0x...",
	});
};
```

Consulta todas las [extensiones disponibles](/references/typescript/v5/functions#extensions) para más detalles.

## Eventos Genéricos de Contrato

Consulta y escucha eventos de contratos con el hook `useContractEvents`.

```tsx
import { useContractEvents } from "thirdweb/react";
import { prepareEvent } from "thirdweb";

const myEvent = prepareEvent({
  signature: "event MyEvent(uint256 myArg)",
});

const { data: events } = useContractEvents({
    contract,
    eventName: [myEvent],
});
```

o con extensiones:

```tsx
import { useContractEvents } from "thirdweb/react";
import { tokensClaimedEvent } from "thirdweb/extensions/erc721";

const { data: events } = useContractEvents({
    contract,
	events: [tokensClaimedEvent()]
});
```

## Referencias de la API

Consulta la referencia de [hooks de contrato](https://thirdweb.com/docs/references/typescript/v5/useReadContract) para más detalles.

<Stack>

<ArticleIconCard
	title="useReadContract"
	icon={ReactIcon}
	href="/references/typescript/v5/useReadContract"
	description="Hook para leer el estado de un contrato"
/>

<ArticleIconCard
	title="useContractEvents"
	icon={ReactIcon}
	href="/references/typescript/v5/useContractEvents"
	description="Hook para consultar y escuchar eventos de un contrato"
/>

</Stack>


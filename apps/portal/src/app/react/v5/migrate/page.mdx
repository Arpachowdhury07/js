# Migración desde React SDK v4

## Por qué deberías migrar

#### 1. Mejor rendimiento, clientes más felices
El nuevo SDK está diseñado con el rendimiento en mente y con un adecuado tree-shaking. Por lo tanto, el tamaño mínimo del paquete de tu aplicación se reduce significativamente.

A continuación, se muestra la comparación entre dos aplicaciones similares, utilizando `ConnectWallet` (v4) y `ConnectButton` (v5), que son idénticas en funcionalidad.

|                     | SDK v4 | SDK v5
| ------------------- | ------ | -------
| Tamaño mínimo del paquete | <span style={{color: 'red'}}>766kb</span>  | <span style={{color: 'green'}}>104kb</span>
| Dependencias        | `"@thirdweb-dev/react": "^4.9.4"`<br/>`"@thirdweb-dev/sdk": "^4.0.99"`<br/>`"ethers": "^5.7.2"`| `"thirdweb": "^5.42.0"`

_(Compilado con Next.js 14.2.5)_

#### 2. Más billeteras compatibles
El SDK v4 solo es compatible con un número limitado de billeteras web3 y, a medida que agregas más billeteras a tu aplicación, esta se vuelve más pesada.

El SDK v5 admite más de 300 billeteras y ¡este número sigue creciendo! Puedes [interactuar con las billeteras según sus IDs únicos](/typescript/v5/wallets#example-connect-a-wallet-and-access-an-account-to-send-a-transaction).
Por lo tanto, agregar más billeteras a tu aplicación tiene poco o ningún impacto en el tamaño final del paquete.

#### 3. Flexibilidad con React hooks
Al desarrollar una aplicación web3 en React con el SDK v4 de thirdweb, tienes acceso a un conjunto de hooks preconstruidos que te permiten interactuar fácilmente con tus contratos inteligentes.

El problema con este enfoque es que el número de métodos en los contratos inteligentes está en constante aumento, y para cada hook que no existe, tenemos que dedicar tiempo y esfuerzo
para escribirlo, probarlo y mantenerlo. Este proceso consume mucho tiempo y, sinceramente, cuantas más dependencias de hooks de React agregues a tu aplicación, más lenta y difícil de mantener se vuelve.

En el SDK v5, introducimos un nuevo concepto llamado "extensiones preconstruidas": un conjunto de métodos de lectura y escritura para contratos populares que puedes _conectar y usar_. Por ejemplo:

###### Leer estados del contrato con v5

```ts
// Get a list of owned ERC721 tokens in a wallet
import { useReadContract } from "thirdweb/react";
import { getOwnedNFTs } from "thirdweb/extensions/erc721";

const { data } = useReadContract(getOwned, { contract, owner });
```

###### Escribir en un contrato con v5

```ts
// Claim an NFT from thirdweb Drop contract
import { useSendTransaction } from "thirdweb/react";
import { claimTo } from "thirdweb/extensions/erc721";

const { mutate: sendTx } = useSendTransaction();
const transaction = claimTo({
  contract,
  to: "0x...",
  quantity: 1n,
});
sendTx(transaction);
```

Como puedes ver, al combinar las extensiones de contrato con `useReadContract` (para lectura) y `useSendTransaction` (para escritura),
podemos reducir significativamente la cantidad de código que se empaqueta y envía a los usuarios finales. Además, con este enfoque podemos dedicar más tiempo 
a desarrollar extensiones de contrato. Actualmente, el SDK v5 admite cientos de extensiones, incluyendo protocolos populares como Uniswap, Farcaster, Lens y más por venir.

Consulta la lista de [extensiones compatibles](/typescript/v5/extensions/built-in) aquí, o [crea tu propia extensión](/typescript/v5/extensions/create)!



#### 4. Acceso al software más reciente
Actualmente, el SDK v4 utiliza `ethers@5.7.2` y `@tanstack/react-query@^4`, los cuales pueden considerarse versiones "desactualizadas".  
Lamentablemente, no tenemos planes de actualizar las dependencias de la versión v4 a las últimas versiones.  
Te recomendamos encarecidamente migrar al SDK v5 para recibir las últimas actualizaciones de software con mejor seguridad y rendimiento.  
¿Quieres seguir usando ethers.js 5? ¡No te preocupes! El SDK v5 incluye potentes adaptadores que te permiten usar thirdweb con frameworks web3 populares como viem o ethers 5 y 6.  
[Más información](/typescript/v5/adapters#ethers-v5)  


<hr/>

### Comienza ahora

1. [Instalación y configuración](/typescript/v5/react/migrate/installation)
2. [Interacción con contratos](/typescript/v5/react/migrate/contracts)
3. [Adaptador ethers.js](/typescript/v5/react/migrate/ethers-adapter)
4. [Guía rápida](/typescript/v5/react/migrate/cheatsheet)

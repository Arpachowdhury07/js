import { ReactIcon } from "@/icons";
import { createMetadata } from "@doc";
import { ArticleIconCard, Stack } from "@doc";
import { BlocksIcon } from "lucide-react";
import { ExternalLink } from "lucide-react";

export const metadata = createMetadata({
	title: "Envío de Transacciones | thirdweb",
	description: "Cómo enviar transacciones en React",
});

# Transacciones

El envío de una transacción en React se realiza mediante el hook `useSendTransaction`.  
Este hook devuelve una función `mutate` de React Query que puedes llamar con un objeto de transacción creado con `prepareContractCall` o `prepareTransaction`.

Ten en cuenta que, a diferencia del núcleo de TypeScript, `useSendTransaction` no requiere pasar la `Account` activa, ya que usará automáticamente la cuenta activa actual desde el contexto de React.

## Playground en Vivo

Prueba la demostración por ti mismo en el [playground de envío de transacciones](https://playground.thirdweb.com/connect/transactions)

<Stack>

<ArticleIconCard
	title="Prueba la demo"
	icon={ExternalLink}
	href="https://playground.thirdweb.com/connect/blockchain-api"
	description="Mira el SDK en acción en el playground en vivo"
/>
</Stack>

## Envío de una llamada genérica a un contrato

```ts
import { prepareContractCall, getContract } from "thirdweb";
import { useSendTransaction } from "thirdweb/react";

const contract = getContract({
	client,
	chain,
	address: "0x...",
});

const MyComponent = () => {
	const { mutate: sendTransaction, isPending } = useSendTransaction();

	const onClick = async () => {
		const transaction = prepareContractCall({
			contract,
			method: "function mint(address to)",
			params: ["0x..."],
			value: 0,
		});
		sendTransaction(transaction);
	};
};
```

## Uso de extensiones

<Stack>
<ArticleIconCard
	title="Entendiendo las Extensiones"
	description="Aprende cómo usar extensiones en tu proyecto"
	icon={BlocksIcon}
	href="/typescript/v5/extensions/use"
/>
</Stack>

Las extensiones son una forma de realizar transacciones complejas de manera segura en términos de tipos, utilizando una API sencilla.

```tsx
import { getContract } from "thirdweb";
import { useSendTransaction } from "thirdweb/react";
import { mintTo } from "thirdweb/extensions/erc721";

const contract = getContract({
	client,
	chain,
	address: "0x...",
});

const MyComponent = () => {
	const { mutate: sendTransaction, isPending } = useSendTransaction();

	const onClick = async () => {
		const transaction = mintTo({
			contract,
			to: "0x...",
			nft: {
				name: "NFT Name",
				description: "NFT Description",
				image: "https://example.com/image.png",
			},
		});
		sendTransaction(transaction);
	};
};
```

Consulta todas las [extensiones disponibles](/references/typescript/v5/functions#extensions) para más detalles.

## Referencias de la API

Consulta la referencia de [hooks de transacción](https://thirdweb.com/docs/references/typescript/v5/useSendTransaction) para más detalles.

<Stack>

<ArticleIconCard
	title="useSendTransaction"
	icon={ReactIcon}
	href="/references/typescript/v5/useSendTransaction"
	description="Hook para enviar transacciones"
/>

<ArticleIconCard
	title="useWaitForReceipt"
	icon={ReactIcon}
	href="/references/typescript/v5/useWaitForReceipt"
	description="Hook para esperar un recibo de transacción"
/>

<ArticleIconCard
	title="useSendAndConfirmTransaction"
	icon={ReactIcon}
	href="/references/typescript/v5/useSendAndConfirmTransaction"
	description="Hook para enviar y confirmar transacciones"
/>

<ArticleIconCard
	title="useSimulateTransaction"
	icon={ReactIcon}
	href="/references/typescript/v5/useSimulateTransaction"
	description="Hook para simular transacciones"
/>

<ArticleIconCard
	title="useEstimateGas"
	icon={ReactIcon}
	href="/references/typescript/v5/useEstimateGas"
	description="Hook para estimar las unidades de gas de una transacción"
/>

<ArticleIconCard
	title="useEstimateGasCost"
	icon={ReactIcon}
	href="/references/typescript/v5/useEstimateGasCost"
	description="Hook para estimar el costo de gas de una transacción"
/>

<ArticleIconCard
	title="useSendBatchTransaction"
	icon={ReactIcon}
	href="/references/typescript/v5/useSendBatchTransaction"
	description="Hook para enviar un lote de transacciones"
/>

</Stack>


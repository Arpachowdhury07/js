import {
	ArticleCard,
	GithubTemplateCard,
	Grid,
	ExpandableGrid,
	createMetadata,
	OpenSourceCard,
	Stack,
	Steps,
	Step,
	InstallTabs,
  Callout
} from "@doc";

export const metadata = createMetadata({
	title: "thirdweb Connect",
	description: "Aprende cómo migrar a los componentes de thirdweb Connect desde RainbowKit",
	image: {
		title: "Migrar desde RainbowKit",
		icon: "thirdweb",
	},
});

# Migrar desde RainbowKit

Aprende cómo migrar al componente ConnectButton de thirdweb desde [RainbowKit](https://www.rainbowkit.com/).

<Steps>
	<Step title="Instalación">
		Instala el SDK de connect en tu aplicación
		<InstallTabs
			npm="npm i thirdweb"
			yarn="yarn add thirdweb"
			pnpm="pnpm i thirdweb"
			bun="bun i thirdweb"
		/>

    <Callout variant='warning' title="Conflictos de dependencias">Si estás instalando thirdweb usando `npm` y encuentras conflictos de dependencias, instala thirdweb usando `npm install thirdweb --legacy-peer-deps` </Callout>
	</Step>

	<Step title="Configuración">
    Envuelve la aplicación usando `ThirdwebProvider` y elimina `RainbowKitProvider`

    ```jsx
    import { ThirdwebProvider } from "thirdweb/react";
    .
    .
    .
    .
    function MyApp({ Component, pageProps }: AppProps) {
      return (
        <ThirdwebProvider>
          <WagmiProvider config={config}>
            <QueryClientProvider client={client}>
                <Component {...pageProps} />
            </QueryClientProvider>
          </WagmiProvider>
        </ThirdwebProvider>
      );
    }
    ```

	</Step>
	<Step title="Swap ConnectButton component">
		Importa `createThirdwebClient` y `ConnectButton` desde thirdweb y añádelos a tu aplicación. Modifica el componente `ConnectButton`  
    añadiendo el prop [`client`](/typescript/v5/client).

    ```jsx
    import { ConnectButton } from "thirdweb/react";
    import { createThirdwebClient } from "thirdweb";
    .
    .
    .
    .
    const Home: NextPage = () => {

      const client = createThirdwebClient({
        clientId: "<client_id>",
      });

      return (
          <main>
            <ConnectButton client={client} />
          </main>

      );
    };
    ```
    <Callout variant="info" title="Client ID">Obtén un client ID gratuito para usar en tu aplicación creando un proyecto en el [dashboard de thirdweb](https://thirdweb.com/team).</Callout>
	</Step>
  <Step title="Personalizar">
    Para personalizar tu componente ConnectButton, consulta la hoja de referencia a continuación o [consulta la documentación de personalización](https://portal.thirdweb.com/connect/sign-in/customization).
  </Step>
  <Step title="(Opcional) Adaptadores">
    Si estás utilizando Wagmi, Viem o Ethers en tu aplicación, usa los adaptadores de thirdweb para seguir utilizando contratos, proveedores y billeteras de estas librerías.

    [Consulta la documentación de los adaptadores.](/typescript/v5/adapters)
  </Step>

</Steps>

## Hoja de referencia

### Instalación

#### RainbowKit

```npm install @rainbow-me/rainbowkit wagmi viem@2.x @tanstack/react-query```

#### thirdweb

```npm install thirdweb```

<hr/>

### Inicialización

#### RainbowKit

```jsx
import '@rainbow-me/rainbowkit/styles.css';
import {
  getDefaultConfig,
  RainbowKitProvider,
} from '@rainbow-me/rainbowkit';
import { WagmiProvider } from 'wagmi';
import {
  mainnet,
  polygon,
  optimism,
  arbitrum,
  base,
} from 'wagmi/chains';
import {
  QueryClientProvider,
  QueryClient,
} from "@tanstack/react-query";

const config = getDefaultConfig({
  appName: 'My RainbowKit App',
  projectId: 'YOUR_PROJECT_ID',
  chains: [mainnet, polygon, optimism, arbitrum, base],
  ssr: true, // If your dApp uses server side rendering (SSR)
});
const queryClient = new QueryClient();

const App = () => {
  return (
    <WagmiProvider config={config}>
      <QueryClientProvider client={queryClient}>
        <RainbowKitProvider>
          {/* Your App */}
        </RainbowKitProvider>
      </QueryClientProvider>
    </WagmiProvider>
  );
};
```

#### thirdweb

```jsx

import { ThirdwebProvider } from "thirdweb/react";

const App = () => {
  return (
    <ThirdwebProvider>
      {/* Your App */}
    </ThirdwebProvider>
  );
};
```

<hr/>

### ConnectButton

#### RainbowKit

```jsx
import { ConnectButton } from '@rainbow-me/rainbowkit';

export const YourApp = () => {
  return <ConnectButton />;
};
```

#### thirdweb

```jsx
import { ConnectButton } from "thirdweb/react";
import { createThirdwebClient } from "thirdweb";

const client = createThirdwebClient({ clientId: "your-client-id" });

export const YourApp = () => {
  return <ConnectButton client={client} />
}
```

<hr/>

### Localización

#### RainbowKit

```jsx
<RainbowKitProvider
  locale="zh-CN"
  {...etc}>
  {/* Your App */}
</RainbowKitProvider>
```

#### thirdweb

```jsx
<ConnectButton
  locale={"es-ES"}
  {...etc}
/>
```

<hr/>

### Tamaños del Modal

#### RainbowKit

```jsx
<RainbowKitProvider
  modalSize="compact"
  {...etc}>
  {/* Your App */}
</RainbowKitProvider>
```

#### thirdweb

```jsx
<ConnectButton
  locale={"es-ES"}
  {...etc}
/>
```

<hr/>

### Personalización de Tema

#### RainbowKit

```jsx
import { ...etc, darkTheme } from '@rainbow-me/rainbowkit';

<RainbowKitProvider
  theme={darkTheme()}
  {...etc}>
  {/* Your App */}
</RainbowKitProvider>
```

#### thirdweb

```jsx
<ConnectButton
  theme="dark" // "light"
  {...etc}
/>
```

<hr/>


## Plantillas

<Grid>
    <GithubTemplateCard
	    title="Wagmi Adapter"
	    href="https://github.com/thirdweb-example/wagmi-adapter-example"
	    tag="Example"
    />
    <GithubTemplateCard
	    title="Ethers Adapter"
	    href="https://github.com/thirdweb-example/ethers-adapter-example"
	    tag="Example"
    />
</Grid>
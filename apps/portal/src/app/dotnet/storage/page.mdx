import { Details, createMetadata } from "@doc";

export const metadata = createMetadata({
	title: "ThirdwebStorage | SDK de Thirdweb para .NET",
	description: "Interactúa con IPFS para descargar y cargar datos.",
});

# ThirdwebStorage

La clase `ThirdwebStorage` proporciona métodos para interactuar con cualquier URL, incluyendo IPFS, permitiéndote descargar y cargar datos fácilmente.

## Descargar

Descarga datos desde una URI HTTP o IPFS.

```csharp
var data = await ThirdwebStorage.Download<string>(client, "{{uri}}");
```

<Details summary="Configuración">

### uri

La URI de IPFS o una URL que apunte a los datos.

Debe ser un `string`.

### Valor de Retorno

Devuelve los datos como el tipo especificado. Si estás descargando una cadena, como datos JSON, se devuelve directamente. Para otros tipos, el método intenta deserializar los datos al tipo especificado utilizando `Newtonsoft.Json`.

</Details>

## Cargar

Carga un archivo a IPFS y lo fija.

```csharp
var result = await ThirdwebStorage.Upload(client, "{{path/to-file}}");
```

<Details summary="Configuración">

### path

La ruta del archivo que deseas cargar.

Debe ser un `string`.

### Valor de Retorno

Devuelve un `IPFSUploadResult` que contiene el hash de IPFS (IpfsHash), el tamaño del contenido fijado (PinSize), la marca de tiempo del fijado (Timestamp) y una URL de vista previa (PreviewUrl) construida usando el client ID y el hash de IPFS.

</Details>

## CargarDatosRaw

Carga datos crudos a IPFS y los fija.

```csharp
var bytes = Encoding.UTF8.GetBytes("{{data}}");
var result = await ThirdwebStorage.UploadRaw(client, bytes);
```
<Details summary="Configuración">

### rawBytes

Los datos crudos que deseas cargar.

Debe ser un `byte[]`.

### Valor de Retorno

Devuelve un `IPFSUploadResult` que contiene el hash de IPFS (IpfsHash), el tamaño del contenido fijado (PinSize), la marca de tiempo del fijado (Timestamp) y una URL de vista previa (PreviewUrl) construida usando el client ID y el hash de IPFS.

</Details>

## Ejemplo de Uso

### Descargando Datos JSON

```csharp
var jsonData = await ThirdwebStorage.Download<Dictionary<string, object>>(client, "ipfs://Qm...");
```

### Cargando un Archivo

```csharp
var uploadResult = await ThirdwebStorage.Upload(client, @"C:\path\to\your\file.txt");
Console.WriteLine($"IPFS Hash: {uploadResult.IpfsHash}");
```
import { Details, createMetadata } from "@doc";

export const metadata = createMetadata({
	title: "GetBuyWithFiatQuote | thirdweb .NET SDK",
	description:
		"Obtén una cotización que contenga un id de intención y un enlace de onramp para un intercambio de fiat a cripto.",
});

# GetBuyWithFiatQuote

Obtén una cotización que contenga un id de intención y un enlace de onramp para un intercambio de fiat a cripto.

## Uso

```csharp
using Thirdweb.Pay;


var connectedAddress = await wallet.GetAddress();

var fiatQuoteParams = new BuyWithFiatQuoteParams(
	fromCurrencySymbol: "USD", // US Dollar
	toAddress: connectedAddress, // Receiver address
	toChainId: "137", toTokenAddress: Thirdweb.Constants.NATIVE_TOKEN_ADDRESS, // MATIC
	toAmount: "20" // I want to buy 20 MATIC
);

var quote = await ThirdwebPay.GetBuyWithFiatQuote(client, fiatQuoteParams);
```

<Details summary="Configuración">

#### Cliente (requerido)

`ThirdwebClient`: La instancia del cliente de Thirdweb.

#### BuyWithFiatQuoteParams

Un objeto `BuyWithFiatQuoteParams` (con un constructor útil) que contiene las siguientes propiedades:

```csharp
string fromCurrencySymbol; // Símbolo de la moneda del token de origen
string toAddress; // Dirección que ejecuta el intercambio
string toChainId; // ID de la cadena del token de destino
string toTokenAddress; // Dirección del token de destino
string fromAmount; // Opcional, cantidad del token de origen
string fromAmountUnits; // Opcional, cantidad del token de origen en unidades
string toAmount; // Opcional, cantidad del token de destino
string toAmountWei; // Opcional, cantidad del token de destino en wei
double? maxSlippageBPS; // Opcional, deslizamiento máximo en puntos básicos
bool isTestMode; // Opcional, entra en modo de prueba en el flujo de intercambio, por defecto es falso
string preferredProvider; // Opcional, puede establecerse en "STRIPE", "KADO", etc.
object purchaseData; // Opcional, datos adicionales que se pasarán y se retendrán durante el flujo
```

</Details>

<Details summary="Return Value">

### Return Value

Un objeto `BuyWithFiatQuoteResult` que contiene las siguientes propiedades:

```csharp
string IntentId; // Identificador de intento utilizado para hacer seguimiento al estado del flujo de onramp
string ToAddress; // Dirección para recibir los tokens
OnRampCurrency FromCurrency; // Detalles de la moneda de origen para el onramp
OnRampCurrency FromCurrencyWithFees; // Detalles de la moneda de origen con tarifas para el onramp
OnRampToken OnRampToken; // Detalles del token para el onramp
string Provider; // Proveedor del flujo de onramp
Token ToToken; // Detalles del token de destino
string EstimatedToAmountMinWei; // Estimación mínima de la cantidad de token de destino recibida en wei
string EstimatedToAmountMin; // Estimación mínima de la cantidad de token de destino recibida
List<OnRampFees> ProcessingFees; // Detalles de las tarifas de procesamiento
string EstimatedDurationSeconds; // Duración estimada del flujo de onramp en segundos
double MaxSlippageBPS; // Desviación máxima permitida en puntos base
string OnRampLink; // Enlace del onramp que se utilizará para iniciar el flujo
```

</Details>

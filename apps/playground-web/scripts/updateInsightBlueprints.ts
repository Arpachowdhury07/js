import * as fs from "node:fs";
import * as path from "node:path";
import { fetchAllBlueprints } from "./utils";

const blueprints = await fetchAllBlueprints();

const fileContent = `\
// This file is auto-generated by the update-insight-blueprints script
import type { MinimalBlueprintSpec } from "./utils";

export const insightBlueprints: MinimalBlueprintSpec[] = ${JSON.stringify(blueprints, null, 2)}`;

fs.writeFileSync(
  path.join(__dirname, "../src/app/insight/insightBlueprints.ts"),
  fileContent,
);

console.log(
  "Updated insightBlueprints.ts - Please format this file and commit it",
);
